/**
 * Shower HTML presentation engine: github.com/shower/shower
 * @copyright 2010â€“2013 Vadim Makeev, pepelsbey.net
 * @license MIT license: github.com/shower/shower/wiki/MIT-License
 */
window.shower=window.shower||function(a,b){function k(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}var i,d={},e=a.location,f=b.body,g=[],h=[],j=!(!a.history||!a.history.pushState);return k.prototype={getSlideNumber:function(){return this.number},isLast:function(){return d.slideList.length===this.number+1},isFinished:function(){return this.innerComplete>=this.innerLength},process:function(a){return this.timing?(this.initTimer(a),this):(this.next(a),this)},initTimer:function(a){var b=this;return b.timing?(b.stopTimer(),i=b.isFinished()?setInterval(function(){b.stopTimer(),a.next()},b.timing*(b.innerLength||1)):setInterval(function(){b.isFinished()?(b.stopTimer(),a.next()):b.next(a)},b.timing),this):!1},stopTimer:function(){return i&&(clearInterval(i),i=!1),this},prev:function(a){var c,d=this;return!d.hasInnerNavigation||d.isFinished()||0===d.innerComplete?(a.prev(),!1):(c=b.getElementById(d.id).querySelectorAll(".next.active"),!c||c.length<1?!1:(d.innerComplete>0?(d.innerComplete--,c[c.length-1].classList.remove("active")):a.prev(),this))},next:function(a){var c,d=this;return!d.hasInnerNavigation||d.isFinished()?(a.next(),!1):(d.isFinished()||(c=b.getElementById(d.id).querySelectorAll(".next:not(.active)"),c[0].classList.add("active"),d.innerComplete++),this)}},d._getData=function(a,b){return a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},d.slideList=[],d.init=function(a,c){var e;a=a||".slide",c=c||"div.progress div",g=b.querySelectorAll(a),h=b.querySelector(c);for(var f=0;f<g.length;f++)g[f].id||(g[f].id=f+1),e=d._getData(g[f],"timing"),e&&/^(\d{1,2}:)?\d{1,3}$/.test(e)?(-1!==e.indexOf(":")?(e=e.split(":"),e=1e3*(60*parseInt(e[0],10)+parseInt(e[1],10))):e=1e3*parseInt(e,10),0===e&&(e=!1)):e=!1,d.slideList.push(new k({id:g[f].id,number:f,hasInnerNavigation:null!==g[f].querySelector(".next"),timing:e,innerLength:g[f].querySelectorAll(".next").length,innerComplete:0}));return d},d._getTransform=function(){var b=Math.max(f.clientWidth/a.innerWidth,f.clientHeight/a.innerHeight);return"scale("+1/b+")"},d._applyTransform=function(a){return["WebkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(function(b){f.style[b]=a}),!0},d._isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},d._normalizeSlideNumber=function(a){if(!d._isNumber(a))throw new Error("Gimme slide number as Number, baby!");return 0>a&&(a=0),a>=d.slideList.length&&(a=d.slideList.length-1),a},d._getSlideIdByEl=function(a){for(;"BODY"!==a.nodeName&&"HTML"!==a.nodeName;){if(a.classList.contains("slide"))return a.id;a=a.parentNode}return""},d._checkInteractiveElement=function(a){return"A"===a.target.nodeName},d.getSlideNumber=function(a){var c,b=d.slideList.length-1;for(""===a&&(c=0);b>=0;--b)if(a===d.slideList[b].id){c=b;break}return c},d.go=function(a,b){var c;if(!d._isNumber(a))throw new Error("Gimme slide number as Number, baby!");return d.slideList[a]?(e.hash=d.getSlideHash(a),d.updateProgress(a),d.updateActiveAndVisitedSlides(a),d.isSlideMode()&&(d.showPresenterNotes(a),c=d.slideList[a],c.timing&&c.initTimer(d)),"function"==typeof b&&b(),a):!1},d.next=function(a){var b=d.getCurrentSlideNumber(),c=d.slideList[b+1];return c?(d.go(b+1),"function"==typeof a&&a(),this):!1},d._turnNextSlide=function(a){var b=d.getCurrentSlideNumber(),c=d.slideList[b];d.isSlideMode()?(c.stopTimer(),c.next(d)):d.go(b+1),"function"==typeof a&&a()},d.prev=d.previous=function(a){var b=d.getCurrentSlideNumber();return 1>b?!1:(d.go(b-1),"function"==typeof a&&a(),!0)},d._turnPreviousSlide=function(a){var b=d.getCurrentSlideNumber(),c=d.slideList[b];return c.stopTimer(),d.isSlideMode()?c.prev(d):d.go(b-1),"function"==typeof a&&a(),!0},d.first=function(a){var b=d.slideList[d.getCurrentSlideNumber()];b.timing&&b.stopTimer(),d.go(0),"function"==typeof a&&a()},d.last=function(a){var b=d.slideList[d.getCurrentSlideNumber()];b.timing&&b.stopTimer(),d.go(d.slideList.length-1),"function"==typeof a&&a()},d.enterSlideMode=function(a){var b=d.getCurrentSlideNumber();return f.classList.remove("list"),f.classList.add("full"),d.isListMode()&&j&&history.pushState(null,null,e.pathname+"?full"+d.getSlideHash(b)),d._applyTransform(d._getTransform()),"function"==typeof a&&a(),!0},d.enterListMode=function(a){var b;return f.classList.remove("full"),f.classList.add("list"),d.clearPresenterNotes(),d.isListMode()?!1:(b=d.getCurrentSlideNumber(),d.slideList[b].stopTimer(),d.isSlideMode()&&j&&history.pushState(null,null,e.pathname+d.getSlideHash(b)),d.scrollToSlide(b),d._applyTransform("none"),"function"==typeof a&&a(),!0)},d.toggleMode=function(a){return d.isListMode()?d.enterSlideMode():d.enterListMode(),"function"==typeof a&&a(),!0},d.getCurrentSlideNumber=function(){for(var a=d.slideList.length-1,b=e.hash.substr(1);a>=0;--a)if(b===d.slideList[a].id)return a;return 0},d.scrollToSlide=function(c){var e,f=!1;if(!d._isNumber(c))throw new Error("Gimme slide number as Number, baby!");if(d.isSlideMode())throw new Error("You can't scroll to because you in slide mode. Please, switch to list mode.");if(!d.slideList[c])throw new Error("There is no slide with number "+c);return e=b.getElementById(d.slideList[c].id),a.scrollTo(0,e.offsetTop),f=!0,f},d.isListMode=function(){return j?!/^full.*/.test(e.search.substr(1)):f.classList.contains("list")},d.isSlideMode=function(){return j?/^full.*/.test(e.search.substr(1)):f.classList.contains("full")},d.updateProgress=function(a){if(null===h)return!1;if(!d._isNumber(a))throw new Error("Gimme slide number as Number, baby!");return h.style.width=(100/(d.slideList.length-1)*d._normalizeSlideNumber(a)).toFixed(2)+"%",!0},d.updateActiveAndVisitedSlides=function(a){var c,e,f=d.slideList.length;if(a=d._normalizeSlideNumber(a),!d._isNumber(a))throw new Error("Gimme slide number as Number, baby!");for(c=0;f>c;++c)e=b.getElementById(d.slideList[c].id),a>c?(e.classList.remove("active"),e.classList.add("visited")):c>a?(e.classList.remove("visited"),e.classList.remove("active")):(e.classList.remove("visited"),e.classList.add("active"));return!0},d.clearPresenterNotes=function(){d.isSlideMode()&&a.console&&a.console.clear&&console.clear()},d.showPresenterNotes=function(c){if(d.clearPresenterNotes(),a.console){c=d._normalizeSlideNumber(c);var e=d.slideList[c].id,f=d.slideList[c+1]?d.slideList[c+1].id:null,g=b.getElementById(e).querySelector("footer");if(g&&g.innerHTML&&console.info(g.innerHTML.replace(/\n\s+/g,"\n")),f){var h=b.getElementById(f).querySelector("h2");h&&(h=h.innerHTML.replace(/^\s+|<[^>]+>/g,""),console.info("NEXT: "+h))}}},d.getSlideHash=function(a){if(!d._isNumber(a))throw new Error("Gimme slide number as Number, baby!");return a=d._normalizeSlideNumber(a),"#"+d.slideList[a].id},a.addEventListener("DOMContentLoaded",function(){(f.classList.contains("full")||d.isSlideMode())&&(d.go(d.getCurrentSlideNumber()),d.enterSlideMode())},!1),a.addEventListener("popstate",function(){d.isListMode()?d.enterListMode():d.enterSlideMode()},!1),a.addEventListener("resize",function(){d.isSlideMode()&&d._applyTransform(d._getTransform())},!1),b.addEventListener("keydown",function(a){var e,b=d.getCurrentSlideNumber(),c=d.slideList[b];switch(a.which){case 80:d.isListMode()&&a.altKey&&a.metaKey&&(a.preventDefault(),e=c.number,d.go(e),d.enterSlideMode(),d.showPresenterNotes(e),c.timing&&c.initTimer(d));break;case 13:d.isListMode()&&(a.preventDefault(),d.enterSlideMode(),d.showPresenterNotes(b),c.timing&&c.initTimer(d));break;case 27:d.isSlideMode()&&(a.preventDefault(),d.enterListMode());break;case 33:case 38:case 37:case 72:case 75:if(a.altKey||a.ctrlKey||a.metaKey)return;a.preventDefault(),d._turnPreviousSlide();break;case 34:case 40:case 39:case 76:case 74:if(a.altKey||a.ctrlKey||a.metaKey)return;a.preventDefault(),d._turnNextSlide();break;case 36:a.preventDefault(),d.first();break;case 35:a.preventDefault(),d.last();break;case 9:case 32:a.preventDefault(),d[a.shiftKey?"_turnPreviousSlide":"_turnNextSlide"]()}},!1),d.init(),b.addEventListener("click",function(a){var c,e,b=d._getSlideIdByEl(a.target);b&&d.isListMode()&&(c=d.getSlideNumber(b),d.go(c),d.enterSlideMode(),d.showPresenterNotes(c),e=d.slideList[c],e.timing&&e.initTimer(d))},!1),b.addEventListener("touchstart",function(b){var e,f,g,c=d._getSlideIdByEl(b.target);c&&(d.isSlideMode()&&!d._checkInteractiveElement(b)&&(b.preventDefault(),g=b.touches[0].pageX,g>a.innerWidth/2?d._turnNextSlide():d._turnPreviousSlide()),d.isListMode()&&(b.preventDefault(),e=d.getSlideNumber(c),d.go(e),d.enterSlideMode(),d.showPresenterNotes(e),f=d.slideList[e],f.timing&&f.initTimer(d)))},!1),b.addEventListener("touchmove",function(a){d.isSlideMode()&&a.preventDefault()},!1),d}(this,this.document);
